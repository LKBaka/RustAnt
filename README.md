# RustAnt

[![Rust](https://img.shields.io/badge/Rust-1.88+-blue.svg)](https://www.rust-lang.org/)
[![License](https://img.shields.io/badge/License-GPL3-green.svg)](LICENSE)

**RustAnt** æ˜¯ä¸€ä¸ªç”¨ Rust ç¼–å†™çš„ç¼–ç¨‹è¯­è¨€è§£é‡Šå™¨ï¼Œå®ç°äº†å®Œæ•´çš„ç¼–ç¨‹è¯­è¨€åŠŸèƒ½æ ˆï¼ŒåŒ…æ‹¬è¯æ³•åˆ†æã€è¯­æ³•åˆ†æã€å­—èŠ‚ç ç¼–è¯‘å’Œè™šæ‹Ÿæœºæ‰§è¡Œã€‚

## ğŸš€ ç‰¹æ€§

- **å®Œæ•´çš„è¯­è¨€å®ç°**: æ”¯æŒå˜é‡å£°æ˜ã€å‡½æ•°å®šä¹‰ã€æ§åˆ¶æµç­‰ æ­£åœ¨ç¼–å†™é¢å‘å¯¹è±¡å’Œé—­åŒ…
- **é«˜æ€§èƒ½**: åŸºäºå­—èŠ‚ç è™šæ‹Ÿæœºï¼Œæ”¯æŒå¿«é€Ÿæ‰§è¡Œ (å¹¶éå¿«é€Ÿ fib(35) éƒ½è¦15ç§’ (release o3) )
- **ç±»å‹ç³»ç»Ÿ**: æ”¯æŒæ•´æ•°ã€æµ®ç‚¹æ•°ã€å¸ƒå°”å€¼ã€å­—ç¬¦ä¸²ã€æ•°ç»„ç­‰æ•°æ®ç±»å‹
- **REPLç¯å¢ƒ**: äº¤äº’å¼ç¼–ç¨‹ç¯å¢ƒï¼Œæ”¯æŒå®æ—¶ä»£ç æ‰§è¡Œ

## âš ï¸ é‡è¦è­¦å‘Š

> **ä¼šä¸ä¼šæœ‰ Breaking Changes?**: å› ä¸ºæœ¬é¡¹ç›®æ­£å¤„äºéæ­£å¼ç‰ˆçš„å¼€å‘é˜¶æ®µ æ‰€ä»¥ä¸ºäº†åŠŸèƒ½éœ€è¦å¯èƒ½ä¼šæœ‰ä¸€äº›ç ´åæ€§æ”¹å˜ è¯·è§è°…orz

> **å¼€å‘çŠ¶æ€**: è¿™æ˜¯ä¸€ä¸ªæ­£åœ¨ç§¯æå¼€å‘ä¸­çš„é¡¹ç›®ï¼ŒæŸäº›åŠŸèƒ½å¯èƒ½ä¸ç¨³å®šæˆ–æœªå®Œæˆ

> **æ€§èƒ½è¯´æ˜**: å½“å‰ç‰ˆæœ¬æ€§èƒ½æœ‰é™ï¼Œå¤æ‚è®¡ç®—ï¼ˆå¦‚æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼‰å¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´

> **å…¼å®¹æ€§**: éœ€è¦ Rust 1.88+ å’Œ Edition 2024ï¼Œä½ç‰ˆæœ¬å¯èƒ½æ— æ³•ç¼–è¯‘

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

RustAnt é‡‡ç”¨ç»å…¸çš„ç¼–è¯‘å™¨æ¶æ„è®¾è®¡ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶ï¼š

```
æºç  â†’ è¯æ³•åˆ†æå™¨ â†’ è¯­æ³•åˆ†æå™¨ â†’ æŠ½è±¡è¯­æ³•æ ‘ â†’ å­—èŠ‚ç ç¼–è¯‘å™¨ â†’ è™šæ‹Ÿæœºæ‰§è¡Œ
```

### æ ¸å¿ƒæ¨¡å—

- **`lexer/`** - è¯æ³•åˆ†æå™¨ï¼Œå°†æºç è½¬æ¢ä¸ºTokenæµ
- **`parser/`** - è¯­æ³•åˆ†æå™¨ï¼Œæ„å»ºæŠ½è±¡è¯­æ³•æ ‘(AST)
- **`ast/`** - æŠ½è±¡è¯­æ³•æ ‘å®šä¹‰å’Œè¡¨è¾¾å¼å¤„ç†
- **`byte_code_vm/`** - å­—èŠ‚ç ç¼–è¯‘å™¨å’Œè™šæ‹Ÿæœº
- **`object/`** - è¿è¡Œæ—¶å¯¹è±¡ç³»ç»Ÿ (åˆ«é—®ä¸ºä»€ä¹ˆä¸ç”¨ Enum é—®å°±æ˜¯èŒæ–°æ—¶å€™å†™çš„ä»£ç ç°åœ¨æ”¹ä¸æ‰äº†)
- **`runner/`** - ä»£ç æ‰§è¡Œå™¨ (æ–‡ä»¶æ‰§è¡Œå’ŒREPL)

## ğŸ“¦ å®‰è£…

### âš ï¸ å‰ç½®è¦æ±‚

> **é‡è¦**: è¯·ç¡®ä¿æ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼Œå¦åˆ™ç¼–è¯‘å¯èƒ½å¤±è´¥

- Rust 1.88+ (Rust Edition 2024)
- Cargo

> ğŸš¨ **ç‰ˆæœ¬è¦æ±‚**: 
> - å¿…é¡»ä½¿ç”¨ Rust Edition 2024
> - ä½ç‰ˆæœ¬ Rust æ— æ³•ç¼–è¯‘æ­¤é¡¹ç›®

### æ„å»º

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/LKBaka/RustAnt.git
cd RustAnt

# æ„å»ºé¡¹ç›®
cargo build

# å‘å¸ƒæ„å»º
cargo build --release
```

## ğŸ¯ ä½¿ç”¨æ–¹æ³•

### æ³¨: 
```
path/to/your/rust_ant: ä½ çš„è§£é‡Šå™¨è·¯å¾„
path/to/your/file.ant: æ¬²æ‰§è¡Œçš„è„šæœ¬æ–‡ä»¶çš„è·¯å¾„
```

### æ–‡ä»¶æ‰§è¡Œ

```bash
# æ‰§è¡Œ .ant æ–‡ä»¶

# ç›´æ¥ä½¿ç”¨è§£é‡Šå™¨æœ¬ä½“
path/to/your/rust_ant --file path/to/your/file.ant

# ä½¿ç”¨ cargo 
cargo run -- --file path/to/your/file.ant
```

### REPL æ¨¡å¼

```bash
# å¯åŠ¨äº¤äº’å¼ç¯å¢ƒ (ä½¿ç”¨è§£é‡Šå™¨æœ¬ä½“)
path/to/your/rust_ant

# å¯åŠ¨äº¤äº’å¼ç¯å¢ƒ (ä½¿ç”¨ cargo)
cargo run
```

## ğŸ“ è¯­è¨€è¯­æ³•

### åŸºæœ¬è¯­æ³•

```ant
// å˜é‡å£°æ˜
let x = 42;
let message = "Hello, RustAnt!";

// å‡½æ•°å®šä¹‰
func add(a, b) {
    return a + b;
}

// æ¡ä»¶è¯­å¥
if x > 10 {
    print("x is greater than 10");
} else {
    print("x is 10 or less");
}

// å¾ªç¯
while x > 0 {
    print(x);
    x = x - 1;
}
```

### æ•°æ®ç±»å‹

- **æ•´æ•°**: `42`, `-17`
- **æµ®ç‚¹æ•°**: `3.14`, `-2.5`
- **å¸ƒå°”å€¼**: `true`, `false`
- **å­—ç¬¦ä¸²**: `"Hello, World!"`
- **æ•°ç»„**: `[1, 2, 3, 4]`
- **å­—å…¸**: `{1: 2, 3: 4, 5: 6}`

### é¢å‘å¯¹è±¡ç¼–ç¨‹

> âš ï¸ **å¼€å‘ä¸­**: é¢å‘å¯¹è±¡åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­ï¼Œå½“å‰ç‰ˆæœ¬ä¸æ”¯æŒ å¯æš‚æ—¶ä½¿ç”¨å­—å…¸æ¨¡æ‹Ÿ

### å†…ç½®å‡½æ•°

> ğŸš¨ **å‡½æ•°è¾ƒå°‘**: å½“å‰å†…ç½®å‡½æ•°è¾ƒå°‘
>
> **TestPrint**: (åœ¨printå‡½æ•°åˆ°æ¥å‰) ç”¨äºè¾“å‡ºå†…å®¹çš„è¡¨è¾¾å¼ï¼Œè¯­æ³•ä¸º `TestPrint xxx;`
  
`print`: printå‡½æ•°! **ç”¨äºå°†ä¸€ä¸ªå¯¹è±¡è¾“å‡ºè‡³æ§åˆ¶å°: print(1 + 2)**    
`len`: lenå‡½æ•°! **ç”¨äºè·å–ä¸€ä¸ªåˆ—è¡¨çš„é•¿åº¦**    
`copy`: copyå‡½æ•°! **æ‹·è´ä¸€ä¸ªå¯¹è±¡å¹¶è¿”å›è¯¥å¯¹è±¡**  
`id`: idå‡½æ•°! **è·å–ä¸€ä¸ªå¯¹è±¡çš„idå¹¶è¿”å›**    
`now`: nowå‡½æ•°! **è¿”å›ä» UNIX çºªå…ƒåˆ°ç°åœ¨çš„ç§’æ•°**   

## ğŸ§ª æµ‹è¯•

é¡¹ç›®åŒ…å«å®Œæ•´çš„æµ‹è¯•å¥—ä»¶ï¼š

```bash


# è¿è¡Œæ‰€æœ‰æµ‹è¯•
cargo test

# è¿è¡Œç‰¹å®šæ¨¡å—æµ‹è¯•
cargo test --package rust_ant --lib

```

## ğŸ”§ å¼€å‘

### é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ lexer/           # è¯æ³•åˆ†æå™¨
â”œâ”€â”€ parser/          # è¯­æ³•åˆ†æå™¨
â”œâ”€â”€ ast/             # æŠ½è±¡è¯­æ³•æ ‘
â”œâ”€â”€ byte_code_vm/    # å­—èŠ‚ç ç¼–è¯‘å™¨å’Œè™šæ‹Ÿæœº
â”œâ”€â”€ object/          # è¿è¡Œæ—¶å¯¹è±¡ç³»ç»Ÿ
â”œâ”€â”€ runner/          # ä»£ç æ‰§è¡Œå™¨
â”œâ”€â”€ module_importer/   # æ¨¡å—ç³»ç»Ÿ (æ²¡å†™å‘¢)
â””â”€â”€ utils.rs         # å·¥å…·å‡½æ•°
```

### å¦‚ä½•æ·»åŠ æ–°åŠŸèƒ½

1. **æ–°è¯­æ³•**: åœ¨ `parser/` ä¸­æ·»åŠ è§£æå‡½æ•°
2. **æ–°è¡¨è¾¾å¼**: åœ¨ `ast/expressions/` ä¸­å®šä¹‰æ–°çš„è¡¨è¾¾å¼ç±»å‹
3. **æ–°æ“ä½œ**: åœ¨ `byte_code_vm/` ä¸­æ·»åŠ å­—èŠ‚ç æŒ‡ä»¤
4. **æ–°å¯¹è±¡ç±»å‹**: åœ¨ `object/` ä¸­å®ç°æ–°çš„å¯¹è±¡ç±»å‹ ç„¶ååœ¨ `obj_enum/` ä¸­æ·»åŠ å¯¹åº”ç±»å‹

### è°ƒè¯•

å¯ç”¨VMçš„è°ƒè¯•åŠŸèƒ½ï¼š

```bash
cargo run --features debug
```

## ğŸ“Š æ€§èƒ½

> âš ï¸ **æ€§èƒ½è¯´æ˜**: å½“å‰ç‰ˆæœ¬æ€§èƒ½æœ‰é™ï¼Œé€‚åˆå­¦ä¹ å’Œå®éªŒç”¨é€”

> ğŸš¨ **å½“å‰æ€§èƒ½é™åˆ¶**: 
> - é€’å½’å‡½æ•°æ€§èƒ½è¾ƒå·®ï¼ˆå¦‚ fib(35) éœ€è¦çº¦15ç§’ (release o3)ï¼‰
> - å¤æ‚è®¡ç®—å»ºè®®ä½¿ç”¨å…¶ä»–è¯­è¨€
> - é€‚åˆç®€å•çš„è„šæœ¬å’Œæ•™å­¦ç”¨é€”

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

> ğŸ’¡ **æç¤º**: å¦‚æœæ‚¨ä¸ç†Ÿæ‚‰ Git å‘½ä»¤è¡Œï¼Œæ¨èä½¿ç”¨ [GitHub Desktop](https://desktop.github.com/) è¿›è¡Œå›¾å½¢åŒ–æ“ä½œ

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### è´¡çŒ®æŒ‡å—

- è¯·ç¡®ä¿ä»£ç ç¬¦åˆé¡¹ç›®çš„ç¼–ç è§„èŒƒ
- æ–°åŠŸèƒ½è¯·æ·»åŠ ç›¸åº”çš„æµ‹è¯•ç”¨ä¾‹ (ç¼–è¯‘å™¨ä¸­çš„å‡½æ•°ç›¸å…³æµ‹è¯•å¯è±å…)
- æäº¤ä¿¡æ¯è¯·ä½¿ç”¨æ¸…æ™°çš„æè¿°
- å¦‚æœ‰ç–‘é—®ï¼Œæ¬¢è¿åœ¨ [Issues](https://github.com/LKBaka/RustAnt/issues) ä¸­è®¨è®º

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ GPL-3.0 è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

> **å¼€æºåè®®**: æœ¬é¡¹ç›®ä½¿ç”¨ GPL-3.0 è®¸å¯è¯ï¼Œè¿™æ„å‘³ç€ï¼š
> - æ‚¨å¯ä»¥è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘ä»£ç 
> - å¦‚æœæ‚¨åˆ†å‘ä¿®æ”¹åçš„ç‰ˆæœ¬ï¼Œå¿…é¡»åŒæ ·ä½¿ç”¨ GPL-3.0 è®¸å¯è¯
> - å¿…é¡»å…¬å¼€æºä»£ç 

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸º RustAnt é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ã€‚  
æ„Ÿè°¢ ã€Šç”¨Goè¯­è¨€è‡ªåˆ¶ç¼–è¯‘å™¨ã€‹ è¿™æœ¬ä¹¦çš„ä½œè€… ç´¢æ–¯è—¤Â· é²å°”(Thorsten Ball) è¯­è¨€å‚è€ƒæœ¬ä¹¦çš„éƒ¨åˆ†å†…å®¹ 

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: [GitHub Repository](https://github.com/LKBaka/RustAnt)
- é—®é¢˜åé¦ˆ: [Issues](https://github.com/LKBaka/RustAnt/issues)
- è®¨è®ºåŒº: [Discussions](https://github.com/LKBaka/RustAnt/discussions)

---

**RustAnt** - ç”¨ Rust æ„å»ºçš„ç°ä»£ç¼–ç¨‹è¯­è¨€è§£é‡Šå™¨ ğŸ¦€
